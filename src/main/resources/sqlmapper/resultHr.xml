<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.hconnect.sqlmapper">
    <!-- 측정일자별 심박수 목록 조회 -->
    <select id="selectHrList" parameterType="kr.co.hconnect.domain.SearchResultInfo"
            resultType="kr.co.hconnect.domain.HrResult">
        <![CDATA[
        SELECT B.RESULT_DATE
             , B.RESULT_TIME
             , C.RESULT
        FROM ITEM A
                 INNER JOIN RESULT B
                            ON A.ITEM_ID = B.ITEM_ID
                 INNER JOIN RESULT_DETAIL C
                            ON B.RESULT_SEQ = C.RESULT_SEQ
        WHERE A.ITEM_ID = #{itemId}
          AND B.ADMISSION_ID = #{admissionId}
          AND B.RESULT_DATE = #{resultDate};
        ]]>
    </select>
</mapper>
