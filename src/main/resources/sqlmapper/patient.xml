<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.hconnect.sqlmapper">

    <!-- 환자정보 생성 -->
	<insert id="insertPatient" parameterType="kr.co.hconnect.vo.PatientVO">
	<![CDATA[
		INSERT 
		  INTO PATIENT
		     ( PATIENT_ID
		     , NAME
		     , BIRTH_DATE
		     , CONTACT
		     , SEX
		     , REG_ID
		     , UPD_ID
		     )
		VALUES
		     ( #{patientId}
		     , #{name}
		     , #{birthDate}
		     , #{contact}
		     , #{sex}
		     , #{regId}
		     , #{updId}
		     )
	]]>
	</insert>
	
	<!-- 환자정보 수정 -->
	<update id="updatePatient" parameterType="kr.co.hconnect.vo.PatientVO">
	<![CDATA[
		-- 환자정보 수정 
		-- updatePatient
		UPDATE PATIENT 
		   SET NAME       = #{name} 
		     , BIRTH_DATE = #{birthDate}
		     , CONTACT    = #{contact}
		     , SEX        = #{sex}
		     , UPD_ID     = #{updId}
		     , UPD_DT     = current_timestamp()
		 WHERE PATIENT_ID = #{patientId}
	]]> 
	</update>

</mapper>
