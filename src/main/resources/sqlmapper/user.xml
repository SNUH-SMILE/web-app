<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.hconnect.sqlmapper">

    <!-- 사용자 조회 -->
    <select id="selectUserInfo" parameterType="kr.co.hconnect.vo.UserVO" resultType="kr.co.hconnect.vo.UserVO">
	<![CDATA[
        SELECT USER_ID			AS USER_ID		-- 사용자ID
             , PASSWORD         AS PASSWORD     -- 비밀번호
             , USER_NM          AS USER_NM      -- 사용자명
             , CENTER_ID        AS CENTER_ID    -- 센터ID
             , REMARK           AS REMARK       -- 리마크
             , REG_ID           AS REG_ID       -- 등록자ID
             , REG_DT           AS REG_DT       -- 등록일시
             , UPD_ID           AS UPD_ID       -- 수정자ID
             , UPD_DT           AS UPD_DT       -- 수정일시
          FROM USER
         WHERE USER_ID = #{userId}
        ]]>
	</select>

    <!-- 사용자 목록 조회 -->
    <select id="selectUserInfoList" parameterType="String" resultType="kr.co.hconnect.vo.UserVO">
	<![CDATA[
        SELECT A.USER_ID		  AS USER_ID	  -- 사용자ID
             , A.PASSWORD         AS PASSWORD     -- 비밀번호
             , A.USER_NM          AS USER_NM      -- 사용자명
             , A.CENTER_ID        AS CENTER_ID    -- 센터ID
             , A.REMARK           AS REMARK       -- 리마크
             , B.CENTER_NM        AS CENTER_NM    -- 센터명
          FROM user as A
               INNER JOIN treatment_center AS B ON B.CENTER_ID = A.CENTER_ID
         ORDER BY A.USER_ID
        ]]>
	</select>

    <!-- 사용자 입력 -->
    <insert id="insertUser" parameterType="kr.co.hconnect.vo.UserVO">
	<![CDATA[
        INSERT INTO
            user (
                   USER_ID          -- 사용자Id
                 , PASSWORD         -- 사용자Pw
                 , USER_NM          -- 사용자명
                 , CENTER_ID        -- 센터Id
                 , REMARK           -- 리마크
                 , REG_ID           -- 생성자
                 , UPD_ID           -- 수정자
        )
        VALUES (
                 #{userId}
               , #{password}
               , #{userNm}
               , #{centerId}
               , #{remark}
               , #{regId}
               , #{regId}
               )
        ]]>
	</insert>

    <!-- 사용자 수정 -->
    <update id="updateUser" parameterType="kr.co.hconnect.vo.UserVO">
	<![CDATA[
        UPDATE user
           SET PASSWORD                 = #{password}   -- 비밀번호
             , USER_NM                  = #{userNm}     -- 사용자명
             , CENTER_ID                = #{centerId}   -- 센터Id
             , REMARK                   = #{remark}     -- 리마크
             , UPD_ID                   = #{updId}      -- 수정자
         WHERE USER_ID                  = #{userId}
        ]]>
	</update>

    <!-- 사용자 삭제 -->
    <delete id="deleteUser" parameterType="String">
	<![CDATA[
        DELETE FROM user WHERE USER_ID = #{userId}
    ]]>
	</delete>
</mapper>
